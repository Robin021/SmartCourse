{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/NewProjectButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/NewProjectButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/NewProjectButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/NewProjectButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/NewProjectButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/NewProjectButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/LogoutButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/LogoutButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyS,GACtU,uEACA","ignoreList":[0]}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/LogoutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/LogoutButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/LogoutButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqR,GAClT,mDACA","ignoreList":[0]}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/DashboardHeader.tsx"],"sourcesContent":["import NewProjectButton from \"./NewProjectButton\";\nimport LogoutButton from \"./LogoutButton\";\n\ninterface DashboardHeaderProps {\n    user?: {\n        full_name: string;\n    };\n}\n\nexport default function DashboardHeader({ user }: DashboardHeaderProps) {\n    return (\n        <div className=\"mb-12 flex flex-col items-start justify-between gap-6 md:flex-row md:items-center\">\n            <div className=\"space-y-1\">\n                <h1 className=\"text-3xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 sm:text-4xl\">\n                    Welcome back, <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600\">{user?.full_name || \"Teacher\"}</span>\n                </h1>\n                <p className=\"text-lg text-zinc-500 dark:text-zinc-400\">\n                    Manage your school plans and course designs.\n                </p>\n            </div>\n            <div className=\"flex items-center gap-3\">\n                <LogoutButton />\n                <NewProjectButton />\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQe,SAAS,gBAAgB,EAAE,IAAI,EAAwB;IAClE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;4BAAiF;0CAC7E,8OAAC;gCAAK,WAAU;0CAAgF,MAAM,aAAa;;;;;;;;;;;;kCAErI,8OAAC;wBAAE,WAAU;kCAA2C;;;;;;;;;;;;0BAI5D,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,mJAAY;;;;;kCACb,8OAAC,uJAAgB;;;;;;;;;;;;;;;;;AAIjC"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/ProjectCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/ProjectCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/ProjectCard.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA","ignoreList":[0]}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/components/dashboard/ProjectCard.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/ProjectCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/ProjectCard.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","ignoreList":[0]}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///Users/robin/VSCode/SmartCourse/app/page.tsx"],"sourcesContent":["import DashboardHeader from \"@/components/dashboard/DashboardHeader\";\nimport ProjectCard from \"@/components/dashboard/ProjectCard\";\nimport { cookies } from \"next/headers\";\n\nasync function fetchProjects() {\n    try {\n        const cookieStore = await cookies();\n        const cookieHeader = cookieStore\n            .getAll()\n            .map((c) => `${c.name}=${c.value}`)\n            .join(\"; \");\n        const base =\n            process.env.NEXT_PUBLIC_BASE_URL ||\n            (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : \"http://localhost:3000\");\n        const res = await fetch(`${base}/api/projects`, {\n            cache: \"no-store\",\n            headers: cookieHeader ? { cookie: cookieHeader } : undefined,\n        });\n        if (!res.ok) {\n            return [];\n        }\n        if (!res.headers.get(\"content-type\")?.includes(\"application/json\")) {\n            return [];\n        }\n        const data = await res.json().catch(() => ({ projects: [] }));\n        return (data.projects || []).map((p: any) => ({\n            ...p,\n            _id: p._id.toString(),\n        }));\n    } catch (error) {\n        console.error(\"Error fetching projects:\", error);\n        return [];\n    }\n}\n\nasync function fetchUser() {\n    try {\n        const cookieStore = await cookies();\n        const cookieHeader = cookieStore\n            .getAll()\n            .map((c) => `${c.name}=${c.value}`)\n            .join(\"; \");\n        const base =\n            process.env.NEXT_PUBLIC_BASE_URL ||\n            (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : \"http://localhost:3000\");\n        const res = await fetch(`${base}/api/auth/me`, {\n            cache: \"no-store\",\n            headers: cookieHeader ? { cookie: cookieHeader } : undefined,\n        });\n        if (!res.ok || !res.headers.get(\"content-type\")?.includes(\"application/json\")) {\n            return { full_name: \"Teacher\" };\n        }\n        const data = await res.json().catch(() => ({}));\n        return { full_name: data.user?.full_name || \"Teacher\" };\n    } catch {\n        return { full_name: \"Teacher\" };\n    }\n}\n\nexport default async function Home() {\n    const [projects, user] = await Promise.all([fetchProjects(), fetchUser()]);\n\n    return (\n        <main className=\"min-h-screen bg-zinc-50 dark:bg-zinc-950\">\n            <div className=\"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8\">\n                <DashboardHeader user={user} />\n\n                {projects.length === 0 ? (\n                    <div className=\"flex h-64 flex-col items-center justify-center rounded-2xl border-2 border-dashed border-zinc-200 bg-white p-12 text-center dark:border-zinc-800 dark:bg-zinc-900/50\">\n                        <h3 className=\"mt-2 text-sm font-semibold text-zinc-900 dark:text-zinc-100\">\n                            No projects\n                        </h3>\n                        <p className=\"mt-1 text-sm text-zinc-500 dark:text-zinc-400\">\n                            Get started by creating a new school plan.\n                        </p>\n                    </div>\n                ) : (\n                    <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n                        {projects.map((project) => (\n                            <ProjectCard key={project._id} project={project} />\n                        ))}\n                    </div>\n                )}\n            </div>\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,eAAe;IACX,IAAI;QACA,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,MAAM,eAAe,YAChB,MAAM,GACN,GAAG,CAAC,CAAC,IAAM,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EACjC,IAAI,CAAC;QACV,MAAM,OACF,QAAQ,GAAG,CAAC,oBAAoB,IAChC,CAAC,QAAQ,GAAG,CAAC,UAAU,GAAG,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,EAAE,GAAG,uBAAuB;QAC3F,MAAM,MAAM,MAAM,MAAM,GAAG,KAAK,aAAa,CAAC,EAAE;YAC5C,OAAO;YACP,SAAS,eAAe;gBAAE,QAAQ;YAAa,IAAI;QACvD;QACA,IAAI,CAAC,IAAI,EAAE,EAAE;YACT,OAAO,EAAE;QACb;QACA,IAAI,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,SAAS,qBAAqB;YAChE,OAAO,EAAE;QACb;QACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;gBAAE,UAAU,EAAE;YAAC,CAAC;QAC3D,OAAO,CAAC,KAAK,QAAQ,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAAW,CAAC;gBAC1C,GAAG,CAAC;gBACJ,KAAK,EAAE,GAAG,CAAC,QAAQ;YACvB,CAAC;IACL,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE;IACb;AACJ;AAEA,eAAe;IACX,IAAI;QACA,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,MAAM,eAAe,YAChB,MAAM,GACN,GAAG,CAAC,CAAC,IAAM,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EACjC,IAAI,CAAC;QACV,MAAM,OACF,QAAQ,GAAG,CAAC,oBAAoB,IAChC,CAAC,QAAQ,GAAG,CAAC,UAAU,GAAG,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,EAAE,GAAG,uBAAuB;QAC3F,MAAM,MAAM,MAAM,MAAM,GAAG,KAAK,YAAY,CAAC,EAAE;YAC3C,OAAO;YACP,SAAS,eAAe;gBAAE,QAAQ;YAAa,IAAI;QACvD;QACA,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,SAAS,qBAAqB;YAC3E,OAAO;gBAAE,WAAW;YAAU;QAClC;QACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC7C,OAAO;YAAE,WAAW,KAAK,IAAI,EAAE,aAAa;QAAU;IAC1D,EAAE,OAAM;QACJ,OAAO;YAAE,WAAW;QAAU;IAClC;AACJ;AAEe,eAAe;IAC1B,MAAM,CAAC,UAAU,KAAK,GAAG,MAAM,QAAQ,GAAG,CAAC;QAAC;QAAiB;KAAY;IAEzE,qBACI,8OAAC;QAAK,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,sJAAe;oBAAC,MAAM;;;;;;gBAEtB,SAAS,MAAM,KAAK,kBACjB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAA8D;;;;;;sCAG5E,8OAAC;4BAAE,WAAU;sCAAgD;;;;;;;;;;;yCAKjE,8OAAC;oBAAI,WAAU;8BACV,SAAS,GAAG,CAAC,CAAC,wBACX,8OAAC,kJAAW;4BAAmB,SAAS;2BAAtB,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;AAOzD"}}]
}